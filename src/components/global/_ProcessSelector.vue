var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"process-selector"},[_c('div',{directives:[{name:"show",rawName:"v-show",value:(!_vm.editing),expression:"!editing"}],staticClass:"label"},[_vm._v(_vm._s(_vm.$t('Process')))]),_c('div',{staticClass:"current-process",class:{'expanded':_vm.expanded, editing:_vm.editing},on:{"click":function($event){$event.stopPropagation();return _vm.toggleSelector($event)}}},[_c('span',{directives:[{name:"show",rawName:"v-show",value:(true),expression:"true"}]},[(!_vm.editing && _vm.allowEdit)?_c('span',{staticClass:"edit-btn",on:{"click":function($event){$event.stopPropagation();return _vm.initEdit($event)}}},[_c('i',{staticClass:"mdi mdi-pencil"})]):_vm._e(),_c('div',{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{"hover":true}}],ref:"selectProcessBtn",staticClass:"title",attrs:{"title":_vm.current.process?_vm.current.process.title.toUpperCase():null},on:{"click":function($event){$event.stopPropagation();return _vm.toggleSelector($event)}}},[_vm._v(_vm._s(_vm.current.process?((_vm.current.process.title) + " " + (this.getCount('process', _vm.current.process))):_vm.$t('Select process')))]),_c('span',{directives:[{name:"show",rawName:"v-show",value:(!_vm.editing),expression:"!editing"}],staticClass:"arrow",on:{"click":function($event){$event.stopPropagation();return _vm.toggleSelector($event)}}})]),(_vm.editing)?_c('layer',{on:{"closed":_vm.initEdit}},[_c('div',{staticClass:"edit",staticStyle:{"width":"300px","left":"0"}},[_c('label',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('Name of process')))]),_c('div',{staticClass:"d-flex flex-row"},[_c('div',{staticClass:"flex-grow-1 position-relative"},[_c('b-input',{directives:[{name:"validate",rawName:"v-validate",value:('required|min:4'),expression:"'required|min:4'"}],ref:"editInput",staticClass:"no-focus-style",staticStyle:{"margin":"0!important"},attrs:{"size":"sm","name":"title","disabled":_vm.editForm.busy,"state":_vm.$validateState('title', _vm.editForm)},model:{value:(_vm.editForm.title),callback:function ($$v) {_vm.$set(_vm.editForm, "title", $$v)},expression:"editForm.title"}}),_c('b-form-invalid-feedback',[_vm._v(_vm._s(_vm.$displayError('title', _vm.editForm)))])],1),_c('b-button',{staticClass:"action mdi mdi-check text-success font-15x m-0 outline-none",attrs:{"disabled":_vm.vErrors.any(),"size":"xs","variant":"transparent","title":_vm.$t('Save')},on:{"click":_vm.saveItem}}),_c('b-button',{staticClass:"action mdi mdi-close text-danger font-15x m-0 outline-none",attrs:{"size":"xs","variant":"transparent","title":_vm.$t('Cancel')},on:{"click":_vm.cancelEdit}})],1)])]):_vm._e()],1),_c('b-popover',{attrs:{"placement":"bottom","show":_vm.expanded,"target":function (){ return _vm.$refs.selectProcessBtn; }},on:{"update:show":function($event){_vm.expanded=$event}}},[_c('b-card',{staticClass:"process-selector-popover",staticStyle:{"min-width":"300px"},attrs:{"no-body":""}},[_c('div',{staticClass:"px-3 pt-3"},[_c('div',{staticClass:"sections"},[_c('div',{staticClass:"section",class:{expanded:_vm.expandedSection==='process'},on:{"click":function($event){return _vm.toggleSection('process')}}},[_c('div',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('Process')))]),_c('div',{staticClass:"title"},[_vm._v(_vm._s((_vm.selectedProcess?((_vm.selectedProcess.title) + " " + (this.getCount('process',_vm.selectedProcess))):_vm.$t('Select process') + ' (' +(_vm.loading.process?_vm.$t('Loading...'):_vm.items.length>0?_vm.items.length:_vm.$t('No process available'))+ ')')))]),_c('div',{staticClass:"selector"},[_c('perfect-scrollbar',[_c('div',{staticStyle:{"position":"relative","margin-right":"15px"}},[(_vm.loading.stage)?_c('div',{staticClass:"loading",staticStyle:{"background":"rgba(0,0,0,.4)","position":"absolute","top":"0","left":"0","bottom":"0","right":"0","display":"flex","justify-content":"center","flex-direction":"column","align-items":"center","z-index":"1","margin":"0 -16px","height":"100%"}},[_c('b-spinner')],1):_vm._e(),_c('ul',{staticClass:"list-unstyled m-0"},_vm._l((_vm.items),function(item){return _c('li',{key:item.id,ref:'process_'+item.id,refInFor:true,staticClass:"item",class:{active:_vm.selectedProcess&&_vm.selectedProcess.id===item.id},on:{"click":function($event){$event.stopPropagation();return _vm.selectProcess(item, true)}}},[_vm._v(_vm._s(item.title)+" "+_vm._s(_vm.getCount('process', item)))])}),0)])])],1)]),(_vm.maxLevelNumber > 0)?_c('div',{staticClass:"section",class:{expanded:_vm.expandedSection==='stage'},on:{"click":function($event){return _vm.toggleSection('stage')}}},[_c('div',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('Stage')))]),_c('div',{staticClass:"title"},[_vm._v(_vm._s((_vm.selectedStage && (!_vm.loading.stage)?((_vm.selectedStage.title) + " " + (this.getCount('stage',_vm.selectedStage))):_vm.$t('Select stage') + ' (' + (_vm.loading.stage?_vm.$t('Loading...'):_vm.selectedProcess && _vm.selectedProcess.stages.length>0?_vm.selectedProcess.stages.length:_vm.$t('No stages available')) +')')))]),_c('div',{staticClass:"selector"},[_c('perfect-scrollbar',[_c('div',{staticStyle:{"position":"relative","margin-right":"15px"}},[_c('ul',{staticClass:"list-unstyled"},[_c('li',{staticClass:"item",class:{active:!_vm.selectedStage},on:{"click":function($event){return _vm.selectStage(null, true)}}},[_vm._v(_vm._s(_vm.$t('None')))]),_vm._l(((_vm.selectedProcess?_vm.selectedProcess.stages:[])),function(item){return _c('li',{key:item.id,ref:'stage_'+item.id,refInFor:true,staticClass:"item",class:{active:_vm.selectedStage&&_vm.selectedStage.id===item.id},on:{"click":function($event){$event.stopPropagation();return _vm.selectStage(item, true)}}},[_vm._v(_vm._s(item.title)+" "+_vm._s(_vm.getCount('stage', item)))])})],2)])])],1)]):_vm._e(),(_vm.maxLevelNumber > 1)?_c('div',{staticClass:"section",class:{expanded:_vm.expandedSection==='operation'},on:{"click":function($event){return _vm.toggleSection('operation')}}},[_c('div',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('Operation')))]),_c('div',{staticClass:"title"},[_vm._v(_vm._s((_vm.selectedOperation&& (!_vm.loading.operation)?((_vm.selectedOperation.title) + " " + (this.getCount('operation',_vm.selectedOperation))):_vm.$t('Select operation') + ' (' + (_vm.loading.operation?_vm.$t('Loading...'):_vm.selectedStage && _vm.selectedStage.operations.length>0?_vm.selectedStage.operations.length:_vm.$t('No operations available')) +')')))]),_c('div',{staticClass:"selector"},[_c('perfect-scrollbar',[_c('div',{staticStyle:{"position":"relative","margin-right":"15px"}},[_c('ul',{staticClass:"list-unstyled"},[_c('li',{staticClass:"item",class:{active:!_vm.selectedOperation},on:{"click":function($event){return _vm.selectOperation(null, true)}}},[_vm._v(_vm._s(_vm.$t('None')))]),_vm._l(((_vm.selectedStage?_vm.selectedStage.operations:[])),function(item){return _c('li',{key:item.id,ref:'operation_'+item.id,refInFor:true,staticClass:"item",class:{active:_vm.selectedOperation&&_vm.selectedOperation.id===item.id},on:{"click":function($event){$event.stopPropagation();return _vm.selectOperation(item, true)}}},[_vm._v(_vm._s(item.title)+" "+_vm._s(_vm.getCount('operation', item)))])})],2)])])],1)]):_vm._e(),(_vm.maxLevelNumber > 2)?_c('div',{staticClass:"section",class:{expanded:_vm.expandedSection==='phase'},on:{"click":function($event){return _vm.toggleSection('phase')}}},[_c('div',{staticClass:"label"},[_vm._v(_vm._s(_vm.$t('Phase')))]),_c('div',{staticClass:"title"},[_vm._v(_vm._s((_vm.selectedPhase&& (!_vm.loading.phase)?((_vm.selectedPhase.title) + " " + (this.getCount('phase',_vm.selectedPhase))):_vm.$t('Select phase') + ' (' + (_vm.loading.phase?_vm.$t('Loading...'):(_vm.selectedOperation && _vm.selectedOperation.phases.length>0)?_vm.selectedOperation.phases.length:_vm.$t('No phases available')) +')')))]),_c('div',{staticClass:"selector"},[_c('perfect-scrollbar',[_c('div',{staticStyle:{"position":"relative","margin-right":"15px"}},[_c('ul',{staticClass:"list-unstyled"},[_c('li',{staticClass:"item",class:{active:!_vm.selectedPhase},on:{"click":function($event){return _vm.selectPhase(null, true)}}},[_vm._v(_vm._s(_vm.$t('None')))]),_vm._l(((_vm.selectedOperation?_vm.selectedOperation.phases:[])),function(item){return _c('li',{key:item.id,ref:'phase_'+item.id,refInFor:true,staticClass:"item",class:{active:_vm.selectedPhase&&_vm.selectedPhase.id===item.id},on:{"click":function($event){return _vm.selectPhase(item, true)}}},[_vm._v(_vm._s(item.title)+" "+_vm._s(_vm.getCount('phase', item)))])})],2)])])],1)]):_vm._e()])]),_c('div',{staticClass:"footer"},[_c('div',{staticClass:"d-flex flex-row"},[_c('i',{staticClass:"mdi mdi-close cursor-pointer font-15x opacity",on:{"click":_vm.close}}),_c('b-button',{staticClass:"text-uppercase text-white text-undecorated p-0 flex-grow-1",attrs:{"variant":"link"},on:{"click":_vm.apply}},[_vm._v(_vm._s(_vm.$t('Apply')))])],1)])])],1)],1)}
var staticRenderFns = []

export { render, staticRenderFns }