var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.currentItem || _vm.currentRowDetails)?_c('div',{staticClass:"overlay",class:{'top-all':this.showInnerOverlayOnTop},on:{"click":_vm.overlayClick}}):_vm._e(),_c('div',{staticClass:"table-responsive",staticStyle:{"overflow":"visible"}},[_c('b-table',{staticClass:"t02",attrs:{"sort-icon-left":"","sort-by":"name","busy":_vm.busy,"primary-key":"id","hover":"","fields":_vm.fields,"items":_vm.tableItems,"show-empty":true,"empty-text":_vm.$t('There are no records for the given criteria'),"tbody-tr-class":function (item,type){ return _vm.isRowEditing(item)?'editing':null; }},scopedSlots:_vm._u([{key:"table-colgroup",fn:function(){return [_c('col',{staticStyle:{"width":"45%"}}),_c('col',{staticStyle:{"width":"20%"}}),_c('col',{staticStyle:{"width":"10%"}}),_c('col',{staticStyle:{"width":"300px"}})]},proxy:true},{key:"empty",fn:function(scope){return [_c('p',{staticClass:"alert alert-warning text-center"},[_vm._v(_vm._s(scope.emptyText))])]}},{key:"table-busy",fn:function(){return [_c('div',{staticClass:"text-center text-primary my-2"},[_c('b-spinner',{staticClass:"align-middle"})],1)]},proxy:true},{key:"head(actions)",fn:function(){return [_c('div',{staticClass:"text-right",staticStyle:{"position":"relative"}},[_c('b-button',{directives:[{name:"show",rawName:"v-show",value:(!_vm.currentItem && _vm.$can('core/companyTool/create')),expression:"!currentItem && $can('core/companyTool/create')"}],ref:"btnNewProduct",staticClass:"px-3",staticStyle:{"position":"absolute","top":"-14px","right":"0"},attrs:{"variant":"primary btn-action","size":"xs"},on:{"click":_vm.togglePopOver}},[_vm._v("+ "+_vm._s(_vm.$t('New')))])],1),_c('b-popover',{ref:"popover",staticClass:"form-popover",attrs:{"target":function (){ return _vm.$refs.btnNewProduct; },"show":_vm.showPopOver,"placement":"bottom","boundary":"viewport"},on:{"update:show":function($event){_vm.showPopOver=$event}}},[_c('b-card',{staticStyle:{"max-width":"300px"},attrs:{"no-body":""}},[_c('b-card-body',[(_vm.newItem)?_c('module-form',{attrs:{"companyTool":_vm.companyTool},on:{"done":_vm.formDone},model:{value:(_vm.newItem),callback:function ($$v) {_vm.newItem=$$v},expression:"newItem"}}):_vm._e()],1)],1)],1)]},proxy:true},{key:"cell(name)",fn:function(row){return [_c('table-editable-cell',{attrs:{"row":row,"editing":_vm.isRowEditing(row),"item":_vm.updateForm,"property":"name","staticValue":row.item.info.name}},[(_vm.isRowEditing(row))?_c('template',{slot:"editing"},[_c('suggestions',{staticClass:"sm",class:{'is-invalid':_vm.$validateState('toolModule', _vm.updateForm)===false, 'is-valid':_vm.$validateState('toolModule', _vm.updateForm)===true},attrs:{"v-validate":'required',"options":{debounce:250, inputClass:'form-control form-control-sm', autofocus:true, placeholder:_vm.$t('Name')},"state":_vm.$validateState('toolModule', _vm.updateForm),"onInputChange":_vm.onToolModuleInputChange,"onItemSelected":_vm.onToolModuleSelected},scopedSlots:_vm._u([{key:"item",fn:function(props){return _c('div',{staticClass:"single-item"},[_c('span',{staticClass:"name"},[_vm._v(_vm._s(props.item.name))])])}}],null,true),model:{value:(_vm.updateForm.name),callback:function ($$v) {_vm.$set(_vm.updateForm, "name", $$v)},expression:"updateForm.name"}}),_c('b-form-invalid-feedback',[_vm._v(_vm._s(_vm.$displayError('toolModule', _vm.updateForm)))])],1):_vm._e()],2)]}},{key:"cell(status)",fn:function(row){return [_c('b-button-group',[_c('b-button',{staticClass:"outline-none",class:{'active':row.item.info.status==='INACTIVE'},attrs:{"variant":"outline-danger"},on:{"click":function($event){return _vm.changeStatus(row.item.info, 'INACTIVE')}}},[_vm._v(_vm._s(_vm.$t('INACTIVE')))]),_c('b-button',{staticClass:"outline-none",class:{'active':row.item.info.status==='ACTIVE'},attrs:{"variant":"outline-primary"},on:{"click":function($event){return _vm.changeStatus(row.item.info, 'ACTIVE')}}},[_vm._v(_vm._s(_vm.$t('ACTIVE')))])],1)]}},{key:"cell(yearlyCosts)",fn:function(row){return [_vm._v(_vm._s(_vm.$currency(row.item.yearlyCosts)))]}},{key:"cell(actions)",fn:function(row){return [(_vm.isRowEditing(row))?_c('div',{staticClass:"text-right d-flex justify-content-end"},[_c('table-edit-tools-buttons',{ref:"editButtons",attrs:{"item":row.item,"showSaveButton":_vm.$can('core/companyTool/update', row.item),"disableSaveButton":_vm.vErrors.any()||_vm.updateForm.busy,"loading":_vm.updateForm.busy,"showDeleteButton":_vm.$can('core/companyTool/delete', row.item),"store":"companyTool","deleteConfirmBoundary":"viewport"},on:{"cancel":function($event){return _vm.toggleItem(row.item.info)},"delete":_vm.itemDeleted,"save":function($event){return _vm.saveItem(_vm.updateForm)}}})],1):_c('div',{staticClass:"d-flex"},[_c('div',{staticClass:"flex-grow-1 mr-2",staticStyle:{"width":"50%"}},[((!_vm.currentRowDetails)  || _vm.currentRowDetails.item.id !== row.item.id)?_c('table-tools-buttons',{attrs:{"item":row.item,"showEditButton":_vm.$can('core/companyTool/update', row.item),"btnEditClass":'btn-white btn-sm border-0 text-primary',"showDeleteButton":false,"store":"companyTool"},on:{"editItem":function($event){return _vm.toggleItem(row.item.info)},"delete":_vm.itemDeleted}}):_vm._e()],1),_c('div',{staticClass:"flex-grow-1",staticStyle:{"width":"50%"}},[(_vm.$can('core/companyTool/manage'))?_c('b-button',{staticClass:"btn-primary btn-expand btn-block text-uppercase",class:{'expanded':_vm.currentRowDetails &&_vm.currentRowDetails.item.id === row.item.id},staticStyle:{"font-size":"1.2rem","padding":"3px"},attrs:{"size":"xs","variant":"action"},on:{"click":function($event){return _vm.showDetails(row)}}},[_vm._v(_vm._s((_vm.currentRowDetails && _vm.currentRowDetails.item.id === row.item.id? _vm.$t('Close') : _vm.$t('Prices'))))]):_vm._e()],1)])]}},{key:"row-details",fn:function(row){return [_c('div',{staticClass:"row-details"},[_c('price-table',{attrs:{"tool-module":row.item.info},on:{"itemChanged":_vm.priceChanged}})],1)]}}])})],1)])}
var staticRenderFns = []

export { render, staticRenderFns }