var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"card border py-2 mb-2 shadow-sm project-card",class:{expanded:_vm.expanded}},[(_vm.editing)?_c('layer',{staticStyle:{"width":"100%"},on:{"closed":_vm.toggleEdit}},[_c('b-card',{staticStyle:{"top":"-7px","width":"300px"}},[_c('project-form',{attrs:{"mode":"edit"},on:{"done":_vm.toggleEdit},model:{value:(_vm.editItem),callback:function ($$v) {_vm.editItem=$$v},expression:"editItem"}})],1)],1):_vm._e(),_c('div',{staticClass:"card-header header"},[_c('h3',{staticClass:"h5 m-0 text-capitalize text-overflow text-bold"},[_vm._v(_vm._s(_vm.item.name))]),_c('div',{staticClass:"tools"},[(_vm.$can('core/project/update', _vm.item))?_c('span',{staticClass:"btn-action",on:{"click":_vm.toggleEdit}},[_c('i',{staticClass:"mdi mdi-pencil"})]):_vm._e()])]),_c('div',{staticClass:"card-body py-2"},[_c('div',[_c('span',{staticClass:"project-status",class:'project-status-'+_vm.stage.status.replace(' ', '_').toLowerCase()},[_vm._v(_vm._s(_vm.stage.status))]),_c('div',{staticClass:"stats",on:{"click":function($event){$event.stopPropagation();return _vm.toggle($event)}}},[_c('div',{staticClass:"content"},[(_vm.item.hasReviews)?_c('span',{staticClass:"percent",class:{negative: _vm.item.getStageConsolidatedPercent(_vm.stage.id)<0}},[_vm._v(_vm._s(_vm.item.getStageConsolidatedPercent(_vm.stage.id)>=0?'+':'')+_vm._s(_vm._f("numberFormat")(_vm.item.getStageConsolidatedPercent(_vm.stage.id),'0.00'))+" %")]):_vm._e()])])]),_c('div',{staticClass:"details"},[(!_vm.detailsForm.busy)?_c('div',[(_vm.stage.ideas.length > 0)?_c('div',{staticClass:"card bg-primary rounded-0 text-white mt-3 mb-0 ideas detail-card"},[_c('div',{staticClass:"card-body px-3 py-2"},[(_vm.showIdeas)?_c('layer',{on:{"closed":_vm.toggleIdeas}},[_c('div',{staticClass:"details-popup"},[_c('idea-table',{attrs:{"project":_vm.item,"stage":_vm.stage,"items":_vm.item.getIdeasByStage(_vm.stage.id)},on:{"closed":_vm.toggleIdeas}})],1)]):_vm._e(),_c('strong',{staticClass:"h5 d-block mb-0"},[_vm._v(_vm._s(_vm.$t('Ideas')))]),_c('span',{staticClass:"text-light"},[_vm._v(_vm._s(_vm.$tc('idea.count', _vm.item.getIdeasByStage(_vm.stage.id).length)))]),_c('span',{staticClass:"summary",on:{"click":function($event){$event.stopPropagation();return _vm.toggleIdeas($event)}}},[_vm._v(_vm._s(_vm.item.getIdeasImpactByStage(_vm.stage.id)>=0?'+':'')+_vm._s(_vm._f("numberFormat")(_vm.item.getIdeasImpactByStage(_vm.stage.id),'0.00'))+"%")])],1)]):_vm._e(),(_vm.item.issues.filter(function (o){ return o.projectStageId===_vm.stage.id; }).length > 0)?_c('div',{staticClass:"card bg-danger rounded-0 text-white mt-0 issues detail-card"},[_c('div',{staticClass:"card-body px-3 py-2"},[(_vm.showIssues)?_c('layer',{on:{"closed":_vm.toggleIssues}},[_c('div',{staticClass:"details-popup"},[_c('issue-table',{attrs:{"project":_vm.item,"stage":_vm.stage,"items":_vm.item.getIssuesByStage(_vm.stage.id)},on:{"closed":_vm.toggleIssues}})],1)]):_vm._e(),_c('strong',{staticClass:"h5 d-block mb-0"},[_vm._v(_vm._s(_vm.$t('Issues')))]),_c('span',{staticClass:"text-light"},[_vm._v(_vm._s(_vm.$tc('issue.count', _vm.item.getIssuesByStage(_vm.stage.id).length)))]),_c('span',{staticClass:"summary",on:{"click":function($event){$event.stopPropagation();return _vm.toggleIssues($event)}}},[_vm._v(_vm._s(_vm.item.getIssuesImpactByStage(_vm.stage.id)>=0?'+':'')+_vm._s(_vm._f("numberFormat")(_vm.item.getIssuesImpactByStage(_vm.stage.id),'0.00'))+" %")])],1)]):_vm._e()]):_c('div',{staticClass:"text-center p-3"},[_c('b-spinner',{attrs:{"variant":"primary"}})],1),(_vm.stage.status==='EVALUATIONS_PENDING')?_c('div',{staticClass:"mt-3"},[_c('loading-button',{attrs:{"size":"lg","block":"","loading":_vm.form.busy},on:{"click":_vm.completeStage}},[_vm._v(_vm._s(_vm.$t('action.close', {name:_vm.$t('stage')})))])],1):_vm._e(),(_vm.stage.status==='STARTED' && _vm.item.type==='NORMAL')?_c('div',{staticClass:"mt-3"},[_c('loading-button',{attrs:{"size":"lg","block":"","loading":_vm.form.busy},on:{"click":_vm.nextStage}},[_vm._v(_vm._s(_vm.$t('action.next', {name:_vm.$t('stage')})))])],1):_vm._e(),(_vm.stage.status==='STARTED' && _vm.item.type==='ON_GOING')?_c('div',{staticClass:"mt-3"},[_c('loading-button',{attrs:{"size":"lg","block":"","loading":_vm.form.busy},on:{"click":_vm.completeStage}},[_vm._v(_vm._s(_vm.$t('action.evaluate', {name:_vm.$t('stage')})))])],1):_vm._e()])])],1)}
var staticRenderFns = []

export { render, staticRenderFns }