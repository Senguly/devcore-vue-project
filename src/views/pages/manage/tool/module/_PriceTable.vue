var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:"table-responsive",staticStyle:{"overflow":"visible"}},[_c('b-table',{staticClass:"t02",attrs:{"sort-icon-left":"","sort-by":"name","primary-key":"id","hover":"","fields":_vm.fields,"items":_vm.toolModule.prices,"show-empty":true,"empty-text":_vm.$t('There are no records for the given criteria'),"tbody-tr-class":function (item,type){ return _vm.isRowEditing(item)?'editing':null; }},scopedSlots:_vm._u([{key:"table-colgroup",fn:function(){return [_c('col',{staticStyle:{"width":"35%"}}),_c('col',{staticStyle:{"width":"20%"}}),_c('col',{staticStyle:{"width":"10%"}}),_c('col',{staticStyle:{"width":"10%"}}),_c('col',{staticStyle:{"width":"300px"}})]},proxy:true},{key:"empty",fn:function(scope){return [_c('p',{staticClass:"alert alert-warning text-center"},[_vm._v(_vm._s(scope.emptyText))])]}},{key:"table-busy",fn:function(){return [_c('div',{staticClass:"text-center text-primary my-2"},[_c('b-spinner',{staticClass:"align-middle"})],1)]},proxy:true},{key:"head(actions)",fn:function(){return [_c('div',{staticClass:"text-right",staticStyle:{"position":"relative"}},[_c('b-button',{directives:[{name:"show",rawName:"v-show",value:(!_vm.currentItem && _vm.$can('core/companyTool/create')),expression:"!currentItem && $can('core/companyTool/create')"}],ref:"btnNewProduct",staticClass:"px-3",staticStyle:{"position":"absolute","top":"-14px","right":"0"},attrs:{"variant":"primary btn-action","size":"xs"},on:{"click":_vm.togglePopOver}},[_vm._v("+ "+_vm._s(_vm.$t('New')))])],1),_c('b-popover',{ref:"popover",staticClass:"form-popover",attrs:{"target":function (){ return _vm.$refs.btnNewProduct; },"show":_vm.showPopOver,"placement":"bottom","boundary":"viewport"},on:{"update:show":function($event){_vm.showPopOver=$event}}},[_c('b-card',{staticStyle:{"max-width":"300px"},attrs:{"no-body":""}},[_c('b-card-body',[(_vm.newItem)?_c('price-form',{attrs:{"companyTool":_vm.toolModule},on:{"done":_vm.formDone},model:{value:(_vm.newItem),callback:function ($$v) {_vm.newItem=$$v},expression:"newItem"}}):_vm._e()],1)],1)],1)]},proxy:true},{key:"cell(name)",fn:function(row){return [_c('table-editable-cell',{attrs:{"row":row,"editing":_vm.isRowEditing(row),"item":_vm.updateForm,"property":"name","staticValue":row.item.priceModel!='PROJECT'?row.item.name:row.item.parent.name}},[(_vm.isRowEditing(row))?_c('template',{slot:"editing"},[(_vm.updateForm.priceModel!='PROJECT')?_c('div',[_c('b-form-input',{directives:[{name:"validate",rawName:"v-validate",value:('required|min:4'),expression:"'required|min:4'"}],attrs:{"id":"name","disabled":_vm.form.busy,"placeholder":_vm.$t('Price name'),"type":"text","name":"name","state":_vm.$validateState('name', _vm.updateForm)},model:{value:(_vm.form.updateForm),callback:function ($$v) {_vm.$set(_vm.form, "updateForm", $$v)},expression:"form.updateForm"}}),_c('b-form-invalid-feedback',[_vm._v(_vm._s(_vm.$displayError('name', _vm.updateForm)))])],1):_c('div',[_c('b-select',{attrs:{"name":"parentId","size":"sm","state":_vm.$validateState('parentId', _vm.updateForm),"disabled":_vm.updateForm.busy},model:{value:(_vm.updateForm.parentId),callback:function ($$v) {_vm.$set(_vm.updateForm, "parentId", $$v)},expression:"updateForm.parentId"}},_vm._l((_vm.projects),function(project){return _c('option',{key:project.id,domProps:{"value":project.id}},[_vm._v(_vm._s(project.name))])}),0),_c('b-form-invalid-feedback',[_vm._v(_vm._s(_vm.$displayError('parentId', _vm.updateForm)))])],1)]):_vm._e()],2)]}},{key:"cell(priceModel)",fn:function(row){return [_c('table-editable-cell',{attrs:{"row":row,"editing":_vm.isRowEditing(row),"item":_vm.updateForm,"property":"priceModel","staticValue":_vm.$t('priceModel.'+row.item.priceModel)}},[(_vm.isRowEditing(row))?_c('template',{slot:"editing"},[_c('b-select',{attrs:{"name":"priceModel","size":"sm","state":_vm.$validateState('priceModel', _vm.updateForm),"disabled":_vm.updateForm.busy},model:{value:(_vm.updateForm.priceModel),callback:function ($$v) {_vm.$set(_vm.updateForm, "priceModel", $$v)},expression:"updateForm.priceModel"}},_vm._l((_vm.priceModels),function(model){return _c('option',{key:model.id,domProps:{"value":model.name}},[_vm._v(_vm._s(_vm.$t('priceModel.' + model.id)))])}),0),_c('b-form-invalid-feedback',[_vm._v(_vm._s(_vm.$displayError('priceModel', _vm.updateForm)))])],1):_vm._e()],2)]}},{key:"cell(yearlyCosts)",fn:function(row){return [_c('table-editable-cell',{attrs:{"row":row,"editing":_vm.isRowEditing(row),"item":_vm.updateForm,"property":"yearlyCosts","staticValue":_vm.$currency(row.item.yearlyCosts/100)}},[(_vm.isRowEditing(row))?_c('template',{slot:"editing"},[_c('b-input',{directives:[{name:"validate",rawName:"v-validate",value:('required|numeric|min:0'),expression:"'required|numeric|min:0'"}],attrs:{"name":"price","type":"number","size":"sm","disabled":_vm.updateForm.busy,"state":_vm.$validateState('price', _vm.updateForm)},on:{"change":_vm.changePrice},model:{value:(_vm.price),callback:function ($$v) {_vm.price=_vm._n($$v)},expression:"price"}}),_c('b-form-invalid-feedback',[_vm._v(_vm._s(_vm.$displayError('price', _vm.updateForm)))])],1):_vm._e()],2)]}},{key:"cell(expiration)",fn:function(row){return [_c('table-editable-cell',{attrs:{"row":row,"editing":_vm.isRowEditing(row),"item":_vm.updateForm,"property":"yearlyCosts","staticValue":_vm.formatDate(row.item.expiration)}},[(_vm.isRowEditing(row))?_c('template',{slot:"editing"},[(_vm.updateForm.priceModel==='LICENSE')?_c('b-input',{directives:[{name:"validate",rawName:"v-validate",value:('required'),expression:"'required'"}],attrs:{"name":"expiration","type":"date","size":"sm","disabled":_vm.updateForm.busy,"state":_vm.$validateState('expiration', _vm.updateForm)},on:{"change":_vm.changePrice},model:{value:(_vm.updateForm.expiration),callback:function ($$v) {_vm.$set(_vm.updateForm, "expiration", $$v)},expression:"updateForm.expiration"}}):_vm._e(),_c('b-form-invalid-feedback',[_vm._v(_vm._s(_vm.$displayError('expiration', _vm.updateForm)))])],1):_vm._e()],2)]}},{key:"cell(actions)",fn:function(row){return [(_vm.isRowEditing(row))?_c('div',{staticClass:"text-right d-flex justify-content-end"},[_c('table-edit-tools-buttons',{ref:"editButtons",attrs:{"item":row.item,"showSaveButton":_vm.$can('core/companyTool/update', row.item),"disableSaveButton":_vm.vErrors.any()||_vm.updateForm.busy,"loading":_vm.updateForm.busy,"showDeleteButton":_vm.$can('core/companyTool/delete', row.item),"store":"companyToolPrice","deleteConfirmBoundary":"viewport"},on:{"cancel":function($event){return _vm.toggleItem(row.item)},"deleted":_vm.itemDeleted,"save":function($event){return _vm.saveItem(_vm.updateForm)}}})],1):_c('div',{staticClass:"d-flex justify-content-end"},[_c('div',{staticClass:"float-right"},[_c('table-tools-buttons',{attrs:{"item":row.item,"showEditButton":_vm.$can('core/companyTool/update', row.item),"btnEditClass":'btn-white btn-sm border-0 text-primary',"btnDeleteClass":'btn-white btn-sm border-0 text-danger',"showDeleteButton":_vm.$can('core/companyTool/delete', row.item),"store":"companyToolPrice"},on:{"deleted":_vm.itemDeleted,"editItem":function($event){return _vm.toggleItem(row.item)}}})],1)])]}}])})],1)])}
var staticRenderFns = []

export { render, staticRenderFns }